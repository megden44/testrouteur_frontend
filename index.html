<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Shortest Sea Path</title>
</head>
<body>

<h2>Chemin maritime</h2>
<button onclick="compute()">Calculer</button>
<pre id="output"></pre>

<script>
console.log("JS chargé");

const API_URL = "https://testrouteur-production.up.railway.app/path";

function compute() {
  fetch(`${API_URL}?start_lat=46&start_lon=-2.38&end_lat=49.2&end_lon=-1.82`)
    .then(r => r.json())
    .then(data => {
      console.log("Données reçues :", data); // <- ajoute ça
      document.getElementById("output").textContent =
        JSON.stringify(data, null, 2);
    })
    .catch(err => {
      console.error("Erreur fetch:", err);
    });
}

</script>

</body>
</html>
